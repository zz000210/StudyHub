# 集合运算与代数运算之间的关系

## 示性函数

复杂的集合运算操作比较抽象，通过将其转化为我们熟悉的代数运算可以帮助我们更方便地处理和理解它们。首先，我们给出示性函数的定义。

*定义1.* The indicator function of set $A$ is defined as follows:
$$
1_{A}(\omega)=
\left\{
   \begin{array}{ll}
      1, & \text { if } \omega \in A, \\
      0 , & \text { if } \omega \in A^{c}
   \end{array}
\right.
$$
由此定义我们可以推出$A \subset B \iff I_{A} \leq I_{B}$，进而$A = B \iff I_{A} = I_{B}$。因此，集合间的关系都可以通过代数形式给出，从而大部分集合的运算和运算的性质都可以转化为示性函数的运算性质，如：

* $I_{A \cap B}=\min \left\{I_{A}, I_{B}\right\}=I_{A} I_{B}$
* $I_{A \Delta B}=\left|I_{A}-I_{B}\right|=1_{A}+1_{B}(\bmod 2)$

## 极限关系

在概率空间中，我们比较关心的是可列个集合之间的操作，因此理解集合极限运算也是非常重要的。

*引理1.*  

* $\limsup _{n \rightarrow \infty} A_{n}=\left\{\omega: \sum_{n=1}^{\infty} 1_{A_{n}}(\omega)=\infty\right\}$
  
* $\begin{aligned}
  \liminf *{n \rightarrow \infty} A*{n} &=\left\{\omega: \omega \in A_{n} \text { for all } n \text { except a finite number }\right\} \\
  &=\left\{\omega: \sum_{n} 1_{A_{n}^{c}}(\omega)<\infty\right\}
  \end{aligned}$

通常我们通过“任意，存在”语言来理解集合列上下极限的定义，如果将其转化为示性函数，则对于集合列上下极限的刻画会更加明显，即上极限表示出现次数为无限次的点，而下极限表示不出现的次数为有限次。一个简单的应用如下：

* 上下极限与并交的可交换性

   1. $\limsup A_n \cup B_n = \limsup A_n \cup \limsup B_n$

   2. $\liminf A_n \cap B_n = \liminf A_n \cap \liminf B_n$

   3. $\limsup A_n \cap B_n \subset \limsup A_n \cup \limsup B_n$

   4. $\liminf A_n \cup B_n \supset \liminf A_n \cup \liminf B_n$

Hint：利用上述对上下极限中点出现次数的刻画。

此外，在证明集合列的极限时我们常用的方法时证明其上下极限相互包含，而入下引理可以将其转化为代数极限来做：

*引理1.* $A_n \rightarrow A$ if and only if $I_{A_n} \rightarrow I_{A}$ pointwise.

基于以上的结论，就可以轻松解出作业题了！
> if $A_n \rightarrow A$ and $B_n \rightarrow B$, then $A_n \cup B_n \rightarrow A \cup B$, $A_n \cap B_n \rightarrow A \cap B$. （《Path》1.9.3）

Hint：利用以上四条性质证明其上下极限相互包含

# 关于代数和$\sigma$代数

本节将通过一些习题深入理解代数和$\sigma$代数之间的区别。

> Suppose $\mathcal{C}$ is a finite partition of $\Omega$; that is
>   $$\mathcal{C}=\left\{A_{1}, \ldots, A_{k}\right\}, \quad \Omega=\sum_{i=1}^{k} A_{i}, \quad A_{i} A_{j}=\emptyset, i \neq j$$
>   then 
> 
> a) $\mathcal{A}(\mathcal{C})=\left\{\cup_{I} A_{j}: I \subset\{1, \ldots, k\}\right\}$
> 
> b) $\sigma(\mathcal{C})=\mathcal{A}(\mathcal{C})$
> 
> c) If $A_1,A_2,\cdots$ is a countable partition of $\Omega$, then the induced $\sigma$-field with cardinality of continuum, while the induced field is countable.
> 
> d) A $\sigma$-field can not be countably infinite. Its cardinality is either finite or at least that of the continuum.
> 
> （《Path》1.9.26 & 1.9.35）

这个习题阐述了如下事实：
* 由有限个集合生成的代数和$\sigma$代数是相同的。
* 但是当这个基本集变成可列时，代数和$\sigma$代数的区别就出来了，此时由可列个集合生成的代数依然时可列的，但是$\sigma$代数就至少是连续统的了。
* d）的结论进一步说明$\sigma$代数的大小不是很小就是很大。
证明可参考[这个博客](https://www.yaronhadad.com/why-arent-there-infinitely-countable-sigma-algebras/)。


> 1. Suppose that $\mathcal{A}_n$ are fields satisfying $\mathcal{A}_n \subset \mathcal{A}_{n+1}$. Then  $\cup_n \mathcal{A}_n$ is a field.（《Path》1.9.14）
> 2. If $\mathcal{A}_n$ are $\sigma$-fields satisfying $\mathcal{A}_n \subset \mathcal{A}_{n+1}$. Then $\cup_n \mathcal{A}_n$ is a field, but may not be $\sigma$-algebra.（《Path》1.9.15）

* $\sigma$代数关于交封闭，关于并不封闭。
* 代数对单调可列并封闭，而$\sigma$代数对单调可列并不封闭。

下题给出了由两个$\sigma$代数并生成的最小$\sigma$代数的形式。

> Let $\mathcal{B}_i$ be a $\sigma$-fields of subsets of $\Omega$ for $i = 1, 2$.  Then the $\sigma$-field $\mathcal{B}_1 \vee \mathcal{B}_2$ defined to be the smallest $\sigma$-field containing both $\mathcal{B}_1$ and $\mathcal{B}_2$ is generated by sets of the form $B_1 \cap B_2$ where $B_i \in \mathcal{B}_i$; for $i= 1, 2$.（《Path》1.9.30）
   
更进一步地，由$\mathcal{C}$生成的代数具有显式表达式，这是$\sigma$代数所不具备的。
> Suppose $\mathcal{C}$ is a non-empty class of subsets of $\Omega$, Then
> $$ \mathcal{A}(\mathcal{C})=\bigcup_{i=1}^{m} \bigcap_{j=1}^{n_{i}} A_{i j} $$
> where for each $i, j$ either $A_{ij} \in \mathcal{C}$ or $A_{ij}^{c} \in \mathcal{C}$ and where the $m$ sets $\cap_{j=1}^{n_{i}} A_{i j}, 1 \leq i \leq m$, are disjoint. Thus, we can explicitly represent the sets in $\mathcal{A}(\mathcal{C})$ even though this is impossible for the $\sigma$-field over $\mathcal{C}$.（《Path》1.9.20）
